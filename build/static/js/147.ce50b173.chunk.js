(this["webpackJsonpmain-bt5"]=this["webpackJsonpmain-bt5"]||[]).push([[147],{141:function(e,t,i){"use strict";var c=i(156);i(182);t.a=function(e,t){return"success"===t?c.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"error"===t?c.b.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"info"===t?c.b.info(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"warning"===t?c.b.warning(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):Object(c.b)(e)}},181:function(e,t){(function(t){e.exports=t}).call(this,{})},275:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},391:function(e,t){},859:function(e,t,i){"use strict";i.r(t);var c=i(11),r=i(27),n=i(1),o=i(63),a=i(58),s=i(160),l=i(385),d=i(7),u=i(141),p=i(2),j=void 0;t.default=function(e){var t=e.addLineItemModal,i=e.setAddLineItemModal,b=e.projectInfo,m=Object(n.useState)([{id:l.a.int(1,99),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""},{id:l.a.int(0,9999),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""},{id:l.a.int(0,9999),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""},{id:l.a.int(0,9999),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""},{id:l.a.int(0,9999),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""}]),h=Object(r.a)(m,2),O=h[0],f=h[1],x=Object(n.useState)(0),y=Object(r.a)(x,2),g=y[0],k=y[1],v=function(){var e=[];s(".lineitem tbody tr").each((function(){var t={};s(j).find("input").each((function(){var e=s(j).attr("name");t[e]=s(j).val()})),e.push(t)})),console.log(e),e.forEach((function(e){""!==e.item&&e.totalprice&&function(e){d.a.post("/tender/insertQuoteItems",{description:e.description,amount:e.totalprice,amount_other:0,item_type:"",title:e.item,quote_id:b.quote_id,opportunity_id:b.opportunity_id,actual_amount:0,supplier_amount:0,quantity:e.qty,project_id:b.project_id,created_by:"",modified_by:"",unit:e.uom,remarks:e.remarks,part_no:"",nationality:"",ot_rate:0,ph_rate:0,scaffold_code:"",erection:0,dismantle:0,unit_price:parseFloat(e.unitprice),drawing_number:"",drawing_title:"",drawing_revision:""}).then((function(){Object(u.a)("Line Item Added Successfully","sucess")})).catch((function(){Object(u.a)("Cannot Add Line Items","error")}))}(e)})),k(0),f([{id:l.a.int(1,99),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""},{id:l.a.int(0,9999),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""},{id:l.a.int(0,9999),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""},{id:l.a.int(0,9999),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""},{id:l.a.int(0,9999),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""}]),i(!1)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(o.N,{size:"xl",isOpen:t,children:[Object(p.jsxs)(o.Q,{children:["Add Line Item",Object(p.jsx)(o.e,{color:"secondary",onClick:function(){i(!1)},children:"X"})]}),Object(p.jsx)(o.O,{children:Object(p.jsxs)(o.C,{children:[Object(p.jsx)(o.eb,{children:Object(p.jsx)(o.s,{md:"12",className:"mb-4",children:Object(p.jsxs)(o.eb,{children:[Object(p.jsx)(o.s,{md:"3",children:Object(p.jsx)(o.e,{color:"primary",className:"shadow-none",type:"button",onClick:function(){f([].concat(Object(c.a)(O),[{id:(new Date).getTime().toString(),uom:"",qty:"",unitprice:"",totalprice:"",remarks:"",item:"",description:""}]))},children:"Add Line Item"})}),Object(p.jsx)(o.s,{md:"3",children:Object(p.jsx)("b",{children:" Discount : "})}),Object(p.jsx)(o.s,{md:"3",children:Object(p.jsxs)("b",{children:["Total Amount: ",g,"  "]})})]})})}),Object(p.jsxs)("table",{className:"lineitem border border-secondary rounded",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"Item"}),Object(p.jsx)("th",{scope:"col",children:"Description "}),Object(p.jsx)("th",{scope:"col",children:"UoM"}),Object(p.jsx)("th",{scope:"col",children:"Qty"}),Object(p.jsx)("th",{scope:"col",children:"Unit Price"}),Object(p.jsx)("th",{scope:"col",children:"Total Price"}),Object(p.jsx)("th",{scope:"col",children:"Remarks"}),Object(p.jsx)("th",{scope:"col"})]})}),Object(p.jsx)("tbody",{children:O.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{"data-label":"Item",children:Object(p.jsx)(o.E,{defaultValue:e.item,type:"text",name:"item"})}),Object(p.jsx)("td",{"data-label":"Description",children:Object(p.jsx)(o.E,{defaultValue:e.description,type:"text",name:"description"})}),Object(p.jsx)("td",{"data-label":"UoM",children:Object(p.jsx)(o.E,{defaultValue:e.uom,type:"text",name:"uom"})}),Object(p.jsx)("td",{"data-label":"Qty",children:Object(p.jsx)(o.E,{defaultValue:e.qty,type:"number",name:"qty"})}),Object(p.jsx)("td",{"data-label":"Unit Price",children:Object(p.jsx)(o.E,{defaultValue:e.unitprice,onBlur:function(){!function(){var e=0,t=[];s(".lineitem tbody tr").each((function(){var e={};s(j).find("input").each((function(){var t=s(j).attr("name");e[t]=s(j).val(),e.totalprice=e.qty*e.unitprice})),t.push(e)})),t.forEach((function(t){t.totalprice&&(e+=parseFloat(t.totalprice))})),f(t),k(e)}()},type:"number",name:"unitprice"})}),Object(p.jsx)("td",{"data-label":"Total Price",children:Object(p.jsx)(o.E,{defaultValue:e.totalprice,type:"text",name:"totalprice",disabled:!0})}),Object(p.jsx)("td",{"data-label":"Remarks",children:Object(p.jsx)(o.E,{defaultValue:e.remarks,type:"text",name:"remarks"})}),Object(p.jsx)("td",{"data-label":"Action",children:Object(p.jsxs)(a.b,{to:"",children:[Object(p.jsx)(o.E,{type:"hidden",name:"id",defaultValue:e.id}),Object(p.jsx)("span",{onClick:function(){!function(e){if(f((function(t){return t.filter((function(t){return t.id!==e.id}))})),e.totalprice){var t=g-parseFloat(e.totalprice);k(t)}}(e)},children:"Clear"})]})})]},e.id)}))})]})]})}),Object(p.jsxs)(o.P,{children:[Object(p.jsx)(o.e,{color:"primary",className:"shadow-none",type:"button",onClick:function(){v()},children:"Submit"}),Object(p.jsx)(o.e,{color:"secondary",className:"shadow-none",onClick:function(){i(!1)},children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=147.ce50b173.chunk.js.map