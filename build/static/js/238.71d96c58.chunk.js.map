{"version":3,"sources":["components/apps/ticket/TicketListing.js","components/apps/ticket/TicketFilter.js","views/apps/ticket/TicketList.js"],"names":["TicketListing","dispatch","useDispatch","useEffect","fetchTickets","tickets","useSelector","state","filter","ticketSearch","c","deleted","ticketTitle","toLocaleLowerCase","includes","Status","Error","getVisibleTickets","ticketReducer","currentFilter","className","type","onChange","e","SearchTicket","target","value","placeholder","map","ticket","Id","to","style","width","ticketDescription","color","Label","AgentName","Date","id","onClick","DeleteTicket","placement","TicketFilter","counter","pendingC","t","length","openC","closeC","lg","setVisibilityFilter","TicketList"],"mappings":"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","file":"static/js/238.71d96c58.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Table, Badge, UncontrolledTooltip, Input } from 'reactstrap';\nimport { fetchTickets, DeleteTicket, SearchTicket } from '../../../store/apps/ticket/TicketSlice';\n\nconst TicketListing = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchTickets());\n  }, [dispatch]);\n\n  const getVisibleTickets = (tickets, filter, ticketSearch) => {\n    switch (filter) {\n      case 'total_tickets':\n        return tickets.filter(\n          (c) => !c.deleted && c.ticketTitle.toLocaleLowerCase().includes(ticketSearch),\n        );\n\n      case 'Pending':\n        return tickets.filter(\n          (c) =>\n            !c.deleted &&\n            c.Status === 'Pending' &&\n            c.ticketTitle.toLocaleLowerCase().includes(ticketSearch),\n        );\n\n      case 'Closed':\n        return tickets.filter(\n          (c) =>\n            !c.deleted &&\n            c.Status === 'Closed' &&\n            c.ticketTitle.toLocaleLowerCase().includes(ticketSearch),\n        );\n\n      case 'Open':\n        return tickets.filter(\n          (c) =>\n            !c.deleted &&\n            c.Status === 'Open' &&\n            c.ticketTitle.toLocaleLowerCase().includes(ticketSearch),\n        );\n\n      default:\n        throw new Error(`Unknown filter: ${filter}`);\n    }\n  };\n\n  const tickets = useSelector((state) =>\n    getVisibleTickets(\n      state.ticketReducer.tickets,\n      state.ticketReducer.currentFilter,\n      state.ticketReducer.ticketSearch,\n    ),\n  );\n\n  return (\n    <div>\n      <div className=\"col-lg-3 mb-4\">\n        <Input\n          type=\"text\"\n          onChange={(e) => dispatch(SearchTicket(e.target.value))}\n          placeholder=\"Search Ticket...\"\n        />\n      </div>\n      <Table className=\"align-middle\">\n        <thead>\n          <tr>\n            <th>No</th>\n            <th>Ticket</th>\n            <th>Status</th>\n            <th>Assigned to</th>\n            <th>Date</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {tickets.map((ticket) => (\n            <tr key={ticket.Id}>\n              <td>{ticket.Id}</td>\n              <td>\n                <h5 className=\"mb-0 mt-2\">\n                  <Link to=\"/apps/ticket-detail\" className=\"text-dark text-decoration-none\">\n                    {ticket.ticketTitle}\n                  </Link>\n                </h5>\n                <small className=\"text-muted d-block text-truncate mb-2\" style={{ width: '300px' }}>\n                  {ticket.ticketDescription}\n                </small>\n              </td>\n              <td>\n                <Badge color={ticket.Label}>{ticket.Status}</Badge>\n              </td>\n              <td>{ticket.AgentName}</td>\n              <td>{ticket.Date}</td>\n              <td>\n                <i\n                  className=\"bi bi-trash cursor-pointer\"\n                  id=\"TooltipExample\"\n                  onClick={() => dispatch(DeleteTicket(ticket.Id))}\n                />\n                <UncontrolledTooltip placement=\"left\" target=\"TooltipExample\">\n                  Delete\n                </UncontrolledTooltip>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  );\n};\n\nexport default TicketListing;\n","import { Row, Col, Card, CardBody } from 'reactstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setVisibilityFilter } from '../../../store/apps/ticket/TicketSlice';\n\nconst TicketFilter = () => {\n  const dispatch = useDispatch();\n  const counter = useSelector((state) => state.ticketReducer.tickets);\n  const pendingC = counter.filter((t) => t.Status === 'Pending').length;\n  const openC = counter.filter((t) => t.Status === 'Open').length;\n  const closeC = counter.filter((t) => t.Status === 'Closed').length;\n  return (\n    <Row>\n      <Col lg=\"3\">\n        <Card\n          color=\"primary\"\n          className=\"text-white text-center cursor-pointer\"\n          onClick={() => dispatch(setVisibilityFilter('total_tickets'))}\n        >\n          <CardBody>\n            <h2>{counter.length}</h2>\n            <h5>Total Tickets</h5>\n          </CardBody>\n        </Card>\n      </Col>\n      <Col lg=\"3\">\n        <Card\n          color=\"warning\"\n          className=\"text-white text-center cursor-pointer\"\n          onClick={() => dispatch(setVisibilityFilter('Pending'))}\n        >\n          <CardBody>\n            <h2>{pendingC}</h2>\n            <h5>Pending Tickets</h5>\n          </CardBody>\n        </Card>\n      </Col>\n      <Col lg=\"3\">\n        <Card\n          color=\"success\"\n          className=\"text-white text-center cursor-pointer\"\n          onClick={() => dispatch(setVisibilityFilter('Open'))}\n        >\n          <CardBody>\n            <h2>{openC}</h2>\n            <h5>Open Tickets</h5>\n          </CardBody>\n        </Card>\n      </Col>\n      <Col lg=\"3\">\n        <Card\n          color=\"danger\"\n          className=\"text-white text-center cursor-pointer\"\n          onClick={() => dispatch(setVisibilityFilter('Closed'))}\n        >\n          <CardBody>\n            <h2>{closeC}</h2>\n            <h5>Closed Tickets</h5>\n          </CardBody>\n        </Card>\n      </Col>\n    </Row>\n  );\n};\n\nexport default TicketFilter;\n","import { Card, CardBody } from 'reactstrap';\nimport TicketListing from '../../../components/apps/ticket/TicketListing';\nimport TicketFilter from '../../../components/apps/ticket/TicketFilter';\n\nconst TicketList = () => {\n  return (\n    <Card>\n      <CardBody>\n        <TicketFilter />\n        <TicketListing />\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default TicketList;\n"],"sourceRoot":""}