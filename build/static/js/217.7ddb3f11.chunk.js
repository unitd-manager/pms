(this["webpackJsonpmain-bt5"]=this["webpackJsonpmain-bt5"]||[]).push([[217],{141:function(e,t,n){"use strict";var c=n(156);n(182);t.a=function(e,t){return"success"===t?c.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"error"===t?c.b.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"info"===t?c.b.info(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"warning"===t?c.b.warning(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):Object(c.b)(e)}},277:function(e,t,n){"use strict";var c=n(1),s=n.n(c),r=n(0),o=n.n(r);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},i.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,c,s=function(e,t){if(null==e)return{};var n,c,s={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var l=Object(c.forwardRef)((function(e,t){var n=e.color,c=void 0===n?"currentColor":n,r=e.size,o=void 0===r?24:r,l=a(e,["color","size"]);return s.a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:c,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),s.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));l.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},l.displayName="Edit2",t.a=l},897:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var c=n(3),s=n(9),r=n(27),o=n(1),i=n(63),a=n(277),l=n(161),d=n.n(l),j=n(141),b=n(7),h=n(2);function u(e){var t=e.addContactToggless,n=e.addContactModalss,l=e.setEditTimeSheetEditModal,u=e.id,O=e.timeSheetById,p=e.setContactDatass,m=e.getTimeSheetById;console.log("timeSheetById",O);var x=Object(o.useState)({task_title:"",first_name:"",date:"",hours:"",status:"",description:"",project_milestone_id:"",project_task_id:""}),f=Object(r.a)(x,2),g=f[0],v=f[1],_=Object(o.useState)(),y=Object(r.a)(_,2),C=y[0],k=y[1],w=function(e){v(Object(s.a)(Object(s.a)({},g),{},Object(c.a)({},e.target.name,e.target.value)))},S=Object(o.useState)([]),E=Object(r.a)(S,2),T=E[0],H=E[1],P=Object(o.useState)([]),D=Object(r.a)(P,2),M=D[0],B=D[1],N=function(e){b.a.post("/projecttimesheet/getTaskByID",{project_milestone_id:e}).then((function(e){B(e.data.data)})).catch((function(){Object(j.a)("Task not found","info")}))};Object(o.useEffect)((function(){b.a.get("/jobinformation/getEmployee").then((function(e){console.log(e.data.data),k(e.data.data)})).catch((function(){}))}),[u]),Object(o.useEffect)((function(){b.a.post("/projecttimesheet/getMilestoneTitle",{project_id:u}).then((function(e){H(e.data.data)})).catch((function(){Object(j.a)("Milestone not found","info")}))}),[u]),Object(o.useEffect)((function(){if(g.project_milestone_id){var e=g.project_milestone_id;N(e)}}),[g.project_milestone_id]);var I=[{name:"#"},{name:"Edit",selector:"edit",cell:function(){return Object(h.jsx)(a.a,{})}},{name:"Title"},{name:"Staff"},{name:"Date"},{name:"Hours"},{name:"Status"},{name:"Description"}];return Object(h.jsxs)(i.A,{children:[Object(h.jsx)(i.eb,{children:Object(h.jsx)(i.s,{md:"3",children:Object(h.jsxs)(i.C,{children:[Object(h.jsxs)(i.e,{color:"primary",className:"shadow-none",onClick:t.bind(null),children:["Add New"," "]}),Object(h.jsxs)(i.N,{size:"xl",isOpen:n,toggle:t.bind(null),children:[Object(h.jsx)(i.Q,{toggle:t.bind(null),children:"New Task"}),Object(h.jsx)(i.O,{children:Object(h.jsx)(i.eb,{children:Object(h.jsx)(i.s,{md:"12",children:Object(h.jsx)(i.i,{children:Object(h.jsx)(i.j,{children:Object(h.jsx)(i.A,{children:Object(h.jsxs)(i.eb,{children:[Object(h.jsx)(i.s,{md:"4",children:Object(h.jsxs)(i.C,{children:[Object(h.jsx)(i.H,{children:"Milestone Title"}),Object(h.jsxs)(i.E,{type:"select",name:"project_milestone_id",onChange:function(e){w(e);var t=e.target.value;N(t)},children:[Object(h.jsx)("option",{children:"Select Project"}),T&&T.map((function(e){return Object(h.jsx)("option",{value:e.project_milestone_id,children:e.milestone_title},e.project_id)}))]})]})}),Object(h.jsx)(i.s,{md:"4",children:Object(h.jsxs)(i.C,{children:[Object(h.jsx)(i.H,{children:"Task"}),Object(h.jsxs)(i.E,{type:"select",name:"project_task_id",onChange:w,children:[Object(h.jsx)("option",{children:"Select Task"}),M&&M.map((function(e){return Object(h.jsx)("option",{value:e.project_task_id,children:e.task_title},e.project_milestone_id)}))]})]})}),Object(h.jsx)(i.s,{md:"4",children:Object(h.jsxs)(i.C,{children:[Object(h.jsx)(i.H,{children:"Staff"}),Object(h.jsxs)(i.E,{type:"select",name:"employee_id",onChange:function(e){w(e)},children:[Object(h.jsx)("option",{value:"",selected:!0,children:"Please Select"}),C&&C.map((function(e){return 0===e.e_count&&Object(h.jsx)("option",{value:e.employee_id,children:e.first_name},e.employee_id)}))]})]})}),Object(h.jsx)(i.s,{md:"3",children:Object(h.jsxs)(i.C,{children:[Object(h.jsx)(i.H,{children:"Date"}),Object(h.jsx)(i.E,{type:"date",onChange:w,value:g&&d()(g.date).format("YYYY-MM-DD"),name:"date"})]})}),Object(h.jsx)(i.s,{md:"3",children:Object(h.jsxs)(i.C,{children:[Object(h.jsx)(i.H,{children:"Hours"}),Object(h.jsx)(i.E,{type:"number",onChange:w,value:g&&g.hours,name:"hours"})]})}),Object(h.jsx)(i.s,{md:"4",children:Object(h.jsxs)(i.C,{children:[Object(h.jsx)(i.H,{children:"Status"}),Object(h.jsxs)(i.E,{type:"select",name:"status",onChange:w,value:g&&g.status,children:[" ",Object(h.jsx)("option",{value:"",selected:"selected",children:"Please Select"}),Object(h.jsx)("option",{value:"Pending",children:"Pending"}),Object(h.jsx)("option",{value:"InProgress",children:"InProgress"}),Object(h.jsx)("option",{value:"Completed",children:"Completed"}),Object(h.jsx)("option",{value:"OnHold",children:"OnHold"})]})]})}),Object(h.jsx)(i.s,{md:"3",children:Object(h.jsxs)(i.C,{children:[Object(h.jsx)(i.H,{children:"Description"}),Object(h.jsx)(i.E,{type:"textarea",onChange:w,value:g&&g.description,name:"description"})]})})]})})})})})})}),Object(h.jsxs)(i.P,{children:[Object(h.jsx)(i.e,{className:"shadow-none",color:"primary",onClick:function(){!function(){var e=g;e.project_id=u,b.a.post("/projecttimesheet/insertTimeSheet",e).then((function(e){var n=e.data.data.insertId;console.log(n),Object(j.a)("TimeSheet inserted successfully.","success"),m(),setTimeout((function(){t(!1)}),300),window.location.reload()})).catch((function(){Object(j.a)("Network connection error.","error")}))}()},children:"Submit"}),Object(h.jsx)(i.e,{color:"secondary",className:"shadow-none",onClick:t.bind(null),children:"Cancel"})]})]})]})})}),Object(h.jsxs)(i.ib,{id:"example",className:"display border border-secondary rounded",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:I.map((function(e){return Object(h.jsx)("td",{children:e.name},e.name)}))})}),Object(h.jsx)("tbody",{children:O&&O.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{children:Object(h.jsx)("span",{onClick:function(){p(e),l(!0)},children:Object(h.jsx)(a.a,{})})}),Object(h.jsx)("td",{children:e.task_title}),Object(h.jsx)("td",{children:e.first_name}),Object(h.jsx)("td",{children:d()(e.date).format("YYYY-MM-DD")}),Object(h.jsx)("td",{children:e.hours}),Object(h.jsx)("td",{children:e.status}),Object(h.jsx)("td",{children:e.description})]},e.projecttimesheet_id)}))})]})]})}}}]);
//# sourceMappingURL=217.7ddb3f11.chunk.js.map