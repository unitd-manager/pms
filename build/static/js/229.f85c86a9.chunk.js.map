{"version":3,"sources":["views/cubosale/EditProject.js","layouts/breadcrumbs/BreadCrumbs.js"],"names":["BasicForm","React","useState","company","setCompany","title","settitle","description","setdescription","startDate","setStartDate","estimatedFinishDate","setestimatedFinishDate","companyId","setcompanyId","file","setFile","id","useParams","getCompany","api","get","then","res","data","catch","err","console","log","post","project_id","company_id","start_date","useEffect","editProject","fd","FormData","append","status","alert","Swal","fire","text","icon","window","location","reload","md","className","tag","defaultValue","onInput","e","target","value","type","placeholder","defaultChecked","onChange","name","map","selected","company_name","event","files","onClick","BreadCrumbs","prop","useLocation","firstUrl","pathname","split","secondUrl","heading","to","Link","active"],"mappings":"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","file":"static/js/229.f85c86a9.chunk.js","sourcesContent":["import React,{useEffect,useState} from 'react';\n\nimport {\n  Card,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n\n  Button,\n\n} from 'reactstrap';\nimport Swal from 'sweetalert2'\nimport { useParams } from 'react-router-dom';\nimport api from '../../constants/api';\nimport BreadCrumbs from '../../layouts/breadcrumbs/BreadCrumbs';\n\n\n\nconst BasicForm = () => {\n  const [company, setCompany] = React.useState([])\n  const [title, settitle] = useState('')\n  const [description, setdescription] = useState('')\n\n  const [startDate, setStartDate] = useState('')\n  const [estimatedFinishDate, setestimatedFinishDate] = useState('')\n  const [companyId, setcompanyId] = useState('')\n  const [file, setFile] = useState(null)\n  // const [imgUrl, setImage] = useState('')\n  const { id } = useParams();\n  const getCompany = () => {\n    api \n      .get('/api/getCompany')\n      .then((res) => {\n        setCompany(res.data.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n      api \n      .post('/api/getProjectById',{\n        project_id:id\n      })\n      .then((res) => {\n        console.log(res.data.data)\n        settitle(res.data.data.title);\n        setcompanyId(res.data.data.company_id);\n        setdescription(res.data.data.description)\n        setStartDate(res.data.data.start_date)\n        setestimatedFinishDate(res.data.data.start_date)\n       // setImage(res.data.data.attachment)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  useEffect(() => {\n    getCompany()\n  \n    return () => {\n      getCompany()\n    }\n  }, [])\n  const editProject = async() =>{\n    if(title !== '' \n    && description !== '' \n    && startDate !== '' \n    && estimatedFinishDate !== '' \n    && companyId !== ''){\n      const fd = new FormData()\n      fd.append('title',title)\n      fd.append('description',description)\n      fd.append('start_date',startDate)\n      fd.append('estimated_finish_date',estimatedFinishDate)\n      fd.append('company_id',companyId)\n      fd.append('project_id',id)\n      if(file != null){\n        fd.append('attachment',file)\n      }\n      \n      api\n      .post('/attachment/edit-projects',fd)\n      .then((res) => {\n        \n        if(res && res.data.status === '400'){\n          alert('Cannot add project.')\n        }else{\n          Swal.fire({\n            title: 'Success',\n            text: 'Project Added!',\n            icon: 'success'\n          })\n           window.location.reload()\n        }\n        //navigate('/dashboards/classic');\n        // setLoginData(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }else{\n      Swal.fire({\n        title: 'Field Missing',\n        text: 'Title,description & Dates are required',\n        icon: 'warning'\n      })\n    }\n    \n  }\n  const onFileChange = (event) =>{\n    setFile(event.target.files[0])\n  }\n  return (\n    <div>\n      <BreadCrumbs />\n      <Row>\n        <Col md=\"12\">\n          <Card>\n           \n            <CardBody className=\"bg-light\">\n              <CardTitle tag=\"h4\" className=\"mb-0\">\n                Project Info\n              </CardTitle>\n            </CardBody>\n            <CardBody>\n              <Form>\n                <Row>\n                  <Col md=\"6\">\n                    <FormGroup>\n                      <Label>Title</Label>\n                      <Input \n                      defaultValue={title}\n                      onInput={e => settitle(e.target.value)}\n                      type=\"text\" placeholder=\"\" />\n                      \n                    </FormGroup>\n                  </Col>\n                  <Col md=\"6\">\n                    <FormGroup>\n                      <Label>Description</Label>\n                      <Input defaultValue={description} onInput={e => setdescription(e.target.value)} type=\"text\" placeholder=\"\" />\n                      \n                    </FormGroup>\n                  </Col>\n                </Row>\n                <Row>\n                <Col md=\"6\">\n                    <FormGroup>\n                      <Label>Start Date</Label>\n                      <Input defaultValue={startDate} onInput={e => setStartDate(e.target.value)} type=\"date\" placeholder=\"DOB Here\" />\n                    </FormGroup>\n                  </Col>\n                  <Col md=\"6\">\n                    <FormGroup>\n                      <Label>Estimated Finish Date</Label>\n                      <Input defaultValue={estimatedFinishDate} onInput={e => setestimatedFinishDate(e.target.value)} type=\"date\" placeholder=\"DOB Here\" />\n                    </FormGroup>\n                  </Col>\n                </Row> \n                <Row>\n                  <Col md=\"6\">\n                    <FormGroup>\n                      <Label>Company</Label>\n                      <Input defaultChecked={companyId} onChange={e => setcompanyId(e.target.value)} type=\"select\" name=\"Select Category\">\n                        {company.map(data=>(\n                          <option key={data.company_id} selected={companyId === data.company_id && true} value={data.company_id}>{data.company_name}</option>\n                        ))}\n                        \n                      \n                      </Input>\n                    </FormGroup>\n                  </Col>\n                  <Col md=\"6\">\n                    <Label>Attachments</Label>\n                    <FormGroup>\n                        \n                        <Input onChange={onFileChange} type=\"file\" placeholder=\"\" />\n                    </FormGroup>\n                  </Col>\n                </Row>\n              </Form>\n            </CardBody>\n     \n            <CardBody className=\"border-top gap-2 d-flex align-items-center\">\n              <Button onClick={()=>{editProject()}} type=\"submit\" className=\"btn btn-success\">\n                Save\n              </Button>\n              <Button type=\"button\" className=\"btn btn-dark ml-2\">\n                Cancel\n              </Button>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    \n    </div>\n  );\n};\n\nexport default BasicForm;\n","import { Breadcrumb, BreadcrumbItem } from 'reactstrap';\nimport { useLocation, Link } from 'react-router-dom';\n//import SidebarData from '../sidebars/sidebardata/SidebarData';\n\nconst BreadCrumbs = (prop) => {\n  const location = useLocation();\n  const firstUrl = location.pathname.split('/')[1];\n  const secondUrl = location.pathname.split('/')[2];\n  \n  return (\n    <>\n      {/* <h4 className=\"text-capitalize\">{secondUrl ? `${secondUrl}` : `${firstUrl}`}</h4> */}\n      <h4>{prop.heading}</h4>\n      <Breadcrumb>\n        <BreadcrumbItem to=\"/\" tag={Link} className=\"text-decoration-none\">\n          Home\n        </BreadcrumbItem>\n        {firstUrl ? <BreadcrumbItem active>{firstUrl}</BreadcrumbItem> : ''}\n        {secondUrl ? <BreadcrumbItem active>{secondUrl}</BreadcrumbItem> : ''}\n      </Breadcrumb>\n    </>\n  );\n};\n\nexport default BreadCrumbs;\n"],"sourceRoot":""}