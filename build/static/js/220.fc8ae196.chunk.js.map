{"version":3,"sources":["views/apps/accessControlCASL/AccessControl.js","components/CreationModification.js","components/ComponentCard.js"],"names":["permissions","CanEdit","action","subject","CanDelete","users","admin","Manager","SubscriberReadOnly","addresses","city","street","type","AccessControl","React","useState","Object","keys","userId","setUserId","userPermissions","map","id","actions","reduce","collection","add","Set","ability","defineAbility","can","forEach","lg","title","entries","outline","color","onClick","className","permission","I","a","size","CreationModification","details","tag","modification_date","creation_date","ComponentCard","children","subtitle","creationModificationDate"],"mappings":"0MAMMA,EAAc,CAClBC,QAAS,CACPC,OAAQ,WACRC,QAAS,WAEXC,UAAW,CACTF,OAAQ,aACRC,QAAS,YAIPE,EAAQ,CACZC,MAAO,CACLN,YAAa,CAAC,UAAW,cAE3BO,QAAS,CACPP,YAAa,CAAC,YAEhBQ,mBAAoB,CAClBR,YAAa,KAIXS,EAAY,CAChB,CACEC,KAAM,WACNC,OAAQ,kBACRC,KAAM,WAER,CACEF,KAAM,iBACNC,OAAQ,kBACRC,KAAM,WAER,CACEF,KAAM,qBACNC,OAAQ,kBACRC,KAAM,WAER,CACEF,KAAM,eACNC,OAAQ,kBACRC,KAAM,WAER,CACEF,KAAM,WACNC,OAAQ,kBACRC,KAAM,YAkEKC,UA9DO,WACpB,MAA4BC,IAAMC,SAASC,OAAOC,KAAKZ,GAAO,IAA9D,mBAAOa,EAAP,KAAeC,EAAf,KACMC,EAAkBf,EAAMa,GAAQlB,YAAYqB,KAAI,SAACC,GAAD,OAAQtB,EAAYsB,MAEpEC,EAAO,YACRH,EAAgBI,QAAO,SAACC,EAAD,GAA6B,IAAdvB,EAAa,EAAbA,OAEvC,OADAuB,EAAWC,IAAIxB,GACRuB,IACN,IAAIE,MAGHC,EAAUC,aAAc,SAACC,GAC7BV,EAAgBW,SAAQ,YAA0B,IAAvB7B,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QACjC2B,EAAI5B,EAAQC,SAGhB,OACE,cAAC,KAAD,UACE,cAAC,IAAD,CAAK6B,GAAG,KAAR,SAIE,eAAC,UAAD,CAAeC,MAAM,mBAArB,UACE,cAAC,IAAD,UACGjB,OAAOkB,QAAQ7B,GAAOgB,KAAI,gBAAEC,EAAF,2BACzB,cAAC,IAAD,CAEEa,QAASjB,IAAWI,EACpBc,MAAM,UACNC,QAAS,kBAAMlB,EAAUG,IAJ3B,SAMGA,GALIA,QASX,qBAAKgB,UAAU,oBAAf,SACGjC,EAAMa,GAAQlB,YAAYqB,KAAI,SAACkB,GAAD,OAC7B,8BAAuBA,GAAbA,QAGd,cAAC,IAAD,CAAWD,UAAU,OAArB,SACG7B,EAAUY,KAAI,gBAAGX,EAAH,EAAGA,KAAMC,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,KAAjB,OACb,cAAC,IAAD,UACE,gCACGF,EADH,KACWC,EACRY,EAAQF,KAAI,SAACnB,GAAD,OACX,cAAC,IAAD,CAAKsC,EAAGtC,EAAQuC,EAAG7B,EAAMgB,QAASA,EAAlC,SACE,cAAC,IAAD,CAAQU,UAAU,OAAOI,KAAK,KAA9B,SACGxC,aANSQ,iB,kEC/FnB,SAASiC,EAAT,GAA0D,IAAD,IAAzBC,eAAyB,MAAf,KAAe,EAATX,EAAS,EAATA,MAK7D,OACE,mCACE,cAAC,IAAD,CAAWY,IAAI,KAAKP,UAAU,+BAA9B,SACE,eAAC,KAAD,WACE,cAAC,IAAD,UAAML,IACLW,GACC,eAAC,IAAD,WACE,cAAC,KAAD,UACE,wDAA2BA,GAAWA,EAAQE,uBAEhD,cAAC,KAAD,CAAKR,UAAU,SAAf,SACE,oDAAuBM,GAAWA,EAAQG,6BCI3CC,UApBO,SAAC,GAA4D,IAA1DC,EAAyD,EAAzDA,SAAUhB,EAA+C,EAA/CA,MAAOiB,EAAwC,EAAxCA,SAASC,EAA+B,EAA/BA,yBACjD,OACE,eAAC,IAAD,CAAMb,UAAU,cAAhB,UACE,cAACK,EAAD,CAAsBC,QAASO,EAA0BlB,MAAOA,IAEhE,eAAC,IAAD,CAAUK,UAAU,MAApB,UACE,cAAC,IAAD,CAAcA,UAAU,kBAAxB,SAA2CY,GAAY,KACvD,8BAAMD","file":"static/js/220.fc8ae196.chunk.js","sourcesContent":["import React from 'react';\nimport { Row, Col, Button, ButtonGroup, ListGroup, ListGroupItem } from 'reactstrap';\nimport { defineAbility } from '@casl/ability';\nimport { Can } from '@casl/react';\nimport ComponentCard from '../../../components/ComponentCard';\n\nconst permissions = {\n  CanEdit: {\n    action: 'Can-edit',\n    subject: 'address',\n  },\n  CanDelete: {\n    action: 'Can-delete',\n    subject: 'address',\n  },\n};\n\nconst users = {\n  admin: {\n    permissions: ['CanEdit', 'CanDelete'],\n  },\n  Manager: {\n    permissions: ['CanEdit'],\n  },\n  SubscriberReadOnly: {\n    permissions: [],\n  },\n};\n\nconst addresses = [\n  {\n    city: 'New York',\n    street: '5684 Max Summit',\n    type: 'address',\n  },\n  {\n    city: 'Manhatten York',\n    street: '5684 Max Summit',\n    type: 'address',\n  },\n  {\n    city: 'Canada street York',\n    street: '5684 Max Summit',\n    type: 'address',\n  },\n  {\n    city: 'Delhi street',\n    street: '5684 Max Summit',\n    type: 'address',\n  },\n  {\n    city: 'UP Chawk',\n    street: '5684 Max Summit',\n    type: 'address',\n  },\n];\n\nconst AccessControl = () => {\n  const [userId, setUserId] = React.useState(Object.keys(users)[0]);\n  const userPermissions = users[userId].permissions.map((id) => permissions[id]);\n\n  const actions = [\n    ...userPermissions.reduce((collection, { action }) => {\n      collection.add(action);\n      return collection;\n    }, new Set()),\n  ];\n\n  const ability = defineAbility((can) => {\n    userPermissions.forEach(({ action, subject }) => {\n      can(action, subject);\n    });\n  });\n  return (\n    <Row>\n      <Col lg=\"12\">\n        {/* --------------------------------------------------------------------------------*/}\n        {/* Card-1*/}\n        {/* --------------------------------------------------------------------------------*/}\n        <ComponentCard title=\"Roll base Access\">\n          <ButtonGroup>\n            {Object.entries(users).map(([id]) => (\n              <Button\n                key={id}\n                outline={userId !== id}\n                color=\"primary\"\n                onClick={() => setUserId(id)}\n              >\n                {id}\n              </Button>\n            ))}\n          </ButtonGroup>\n          <div className=\"p-3 bg-light mt-3\">\n            {users[userId].permissions.map((permission) => (\n              <div key={permission}>{permission}</div>\n            ))}\n          </div>\n          <ListGroup className=\"mt-4\">\n            {addresses.map(({ city, street, type }) => (\n              <ListGroupItem key={city}>\n                <div>\n                  {city}, {street}\n                  {actions.map((action) => (\n                    <Can I={action} a={type} ability={ability}>\n                      <Button className=\"mx-1\" size=\"sm\">\n                        {action}\n                      </Button>\n                    </Can>\n                  ))}\n                </div>\n              </ListGroupItem>\n            ))}\n          </ListGroup>\n        </ComponentCard>\n      </Col>\n    </Row>\n  );\n};\n\nexport default AccessControl;\n","import React from 'react';\nimport { CardTitle, Row, Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nexport default function CreationModification({ details = null, title }) {\n  CreationModification.propTypes = {\n    details: PropTypes.object,\n    title: PropTypes.string,\n  };\n  return (\n    <>\n      <CardTitle tag=\"h4\" className=\"border-bottom px-4 py-3 mb-0\">\n        <Row>\n          <Col>{title}</Col>\n          {details && (\n            <Col>\n              <Row>\n                <small>Modification Date: {details && details.modification_date}</small>\n              </Row>\n              <Row className=\"d-flex\">\n                <small>Creation Date: {details && details.creation_date}</small>\n              </Row>\n            </Col>\n          )}\n        </Row>\n      </CardTitle>\n    </>\n  );\n}\n","import { Card, CardBody, CardSubtitle } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport CreationModification from './CreationModification';\n\nconst ComponentCard = ({ children, title, subtitle,creationModificationDate }) => {\n  return (\n    <Card className='shadow-none'>\n      <CreationModification details={creationModificationDate} title={title}></CreationModification>\n     \n      <CardBody className=\"p-4\">\n        <CardSubtitle className=\"text-muted mb-3\">{subtitle || ''}</CardSubtitle>\n        <div>{children}</div>\n      </CardBody>\n    </Card>\n  );\n};\n\nComponentCard.propTypes = {\n  children: PropTypes.node,\n  title: PropTypes.string,\n  subtitle: PropTypes.node,\n  creationModificationDate:PropTypes.any\n};\n\nexport default ComponentCard;\n"],"sourceRoot":""}