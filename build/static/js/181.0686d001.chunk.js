(this["webpackJsonpmain-bt5"]=this["webpackJsonpmain-bt5"]||[]).push([[181],{330:function(e,t,n){"use strict";function c(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=c(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=c(e))&&(r&&(r+=" "),r+=t);return r}},713:function(e,t,n){},867:function(e,t,n){"use strict";n.r(t);var c=n(9),r=n(27),a=n(1),o=n.n(a),i=n(63),l=n(821),s=n(161),u=n.n(s),j=(n(712),n(713),n(7)),d=n(2);u.a.locale("en-GB");var b=Object(l.b)(u.a);t.default=function(e){var t=e.id,n=Object(a.useState)([]),s=Object(r.a)(n,2),u=s[0],f=s[1],p=Object(a.useState)([]),O=Object(r.a)(p,2),h=O[0],v=O[1],m=o.a.useState(!1),x=Object(r.a)(m,2),g=x[0],y=x[1],E=Object(a.useState)(""),S=Object(r.a)(E,2),C=S[0],_=S[1],D=Object(a.useState)(),w=Object(r.a)(D,2),k=w[0],N=w[1],A=Object(a.useState)("default"),T=Object(r.a)(A,2),P=T[0],z=T[1],B=Object(a.useState)(),G=Object(r.a)(B,2),I=G[0],J=G[1],U=function(e){j.a.post("/calendar/getCalendar",{project_id:t,employee_id:e}).then((function(e){console.log("API Response:",e.data);var t=e.data.data.map((function(e){return{title:e.task_title,start:new Date(e.start_date),end:new Date(e.end_date),color:"primary"}}));console.log("New Event Data:",t),v(t)})).catch((function(e){console.log("Error fetching data:",e)}))};return Object(a.useEffect)((function(){j.a.post("projecttask/getEmployeeByID",{project_id:t}).then((function(e){f(e.data.data)})).catch((function(){}))}),[t]),Object(a.useEffect)((function(){if(u.project_id){var e=u.project_id;U(e)}}),[u.project_id]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.s,{md:"4",children:Object(d.jsxs)(i.C,{children:[Object(d.jsx)(i.H,{for:"employeeSelect",children:"Select Employee"}),Object(d.jsxs)(i.E,{type:"select",name:"employee_id",onChange:function(e){var t=e.target.value;U(t)},children:[Object(d.jsx)("option",{value:"",children:"Select Employee"}),u&&u.map((function(e){return Object(d.jsx)("option",{value:e.employee_id,children:e.first_name},e.project_id)}))]})]})}),Object(d.jsx)(i.i,{children:Object(d.jsxs)(i.j,{children:[Object(d.jsx)(l.a,{selectable:!0,events:h,defaultView:"month",scrollToTime:new Date(1970,1,1,6),defaultDate:new Date,localizer:b,style:{height:"calc(100vh - 350px)"},onSelectEvent:function(e){return function(e){y(!0);var t=h.find((function(t){return t.title===e.title}));z(e.color),_(t.title),z(t.color),J(e)}(e)},onSelectSlot:function(e){return function(e){y(!0),N(e)}(e)},eventPropGetter:function(e){return function(e){return e.color?{className:"event-".concat(e.color)}:{className:"event-default"}}(e)}}),Object(d.jsxs)(i.N,{isOpen:g,children:[Object(d.jsx)(i.Q,{toggle:function(){y(!1),_(""),J(null)},children:I?"Update Event":"Add Event"}),Object(d.jsxs)(i.A,{onSubmit:I?function(e){e.preventDefault(),v(h.map((function(e){return e.title===I.title?Object(c.a)(Object(c.a)({},e),{},{title:C,color:P}):e}))),y(!1),_(""),z(""),J(null)}:function(e){e.preventDefault();var t=h;t.push({title:C,start:k.start,end:k.end,color:P}),y(!1),e.target.reset(),v(t),_("")},children:[Object(d.jsxs)(i.O,{children:[Object(d.jsx)("h6",{children:"Event Title"}),Object(d.jsx)(i.E,{id:"Event Title",placeholder:"Enter Event Title",value:C,onChange:function(e){return _(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("h6",{children:"Select Event Color"}),Object(d.jsx)("div",{className:"button-group",children:[{id:1,eColor:"#1a97f5",value:"primary"},{id:2,eColor:"#00ab55",value:"success"},{id:3,eColor:"#fc4b6c",value:"danger"},{id:4,eColor:"#1e4db7",value:"info"},{id:5,eColor:"#fdd43f",value:"warning"}].map((function(e){return Object(d.jsx)(i.e,{color:e.value,size:"sm",onClick:function(){return t=e.value,z(t);var t},children:e.value===P?Object(d.jsx)("i",{className:"bi bi-check"}):Object(d.jsx)("i",{className:"bi bi-circle"})},e.eColor)}))})]}),Object(d.jsxs)(i.P,{children:[I?Object(d.jsx)(i.e,{type:"submit",color:"danger",outline:!0,onClick:function(){return function(e){var t=h.filter((function(t){return t.title!==e.title}));v(t)}(I)},children:"Delete"}):"",Object(d.jsx)(i.e,{type:"submit",color:"success",disabled:!C,children:I?"Update":"Add"})]})]})]})]})})]})}}}]);
//# sourceMappingURL=181.0686d001.chunk.js.map